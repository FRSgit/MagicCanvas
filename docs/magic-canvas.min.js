window.MagicCanvas={reqId:0,draw:function(t){var I,L,i,d,k,h,e=!0,f=[],p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.setImmediate||window.setTimeout.bind(window,16),n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearImmediate||window.clearTimeout,r=function(){},E=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({lineLen:30,heartBeatCD:3e3,heartBeatRange:300,rgb:{r:156,g:217,b:249},type:"heart-beat",zIndex:-99999},t);if("function"!=typeof E.rgb){var o=E.rgb;E.rgb=function(){return o}}var a="random-move"===E.type?function(){for(var t=w(),e={},n=0,i=k.length;n<i;++n){var r=k[n],o=Math.abs(Y(t,r));if(o<4e3)r.active=.3,r.circle.active=.6;else if(o<2e4)r.active=.1,r.circle.active=.3;else{if(!(o<4e4))continue;r.active=.02,r.circle.active=.1}for(var a=r.closest,c=r.id.toString(),s=0;s<a.length;++s){var l=a[s],f=r.id<l.id?c+" "+l.id:l.id+" "+c;void 0===e[f]&&(e[f]=0),e[f]+=r.active}r.circle.draw()}!function(t){var e,n=E.rgb(h),i="rgba("+n.r+","+n.g+","+n.b+",";for(e in t){var r=t[e],o=e.split(" "),a=k[parseInt(o[0])],c=k[parseInt(o[1])];d.beginPath(),d.moveTo(a.x,a.y),d.lineTo(c.x,c.y),d.strokeStyle=i+r+")",d.stroke()}}(e)}:function(){for(var t=0,e=0;e<f.length;++e){var n=f[e];0<n.circle.active?(n.circle.active-=.012,n.circle.draw()):++t}0<f.length&&t===f.length&&(f=[])};function c(){i=document.getElementById("reactive-bg-canvas"),I=document.documentElement.clientWidth,L=document.documentElement.clientHeight,i.style.position="fixed",i.style.zIndex=E.zIndex,i.style.top="0px",i.style.left="0px",i.width=I,i.height=L,h={x:I/2,y:L/2,rx:I/2,ry:L/2},d=i.getContext("2d"),function(){if("random-move"===E.type){k=[];for(var t=I/20,e=L/20,n=0;n<I;n+=t)for(var i=0;i<L;i+=e){var r=n+Math.random()*t,o=i+Math.random()*e;k.push({x:r,originX:r,y:o,originY:o})}for(var a=0;a<k.length;++a){var c=[],s=k[a];s.id=a;for(var l=0;l<k.length;++l){var f=k[l];if(s!==f){for(var d=!1,h=0;h<5;++h)if(void 0===c[h]){c[h]=f,d=!0;break}if(!1===d)for(var u=Y(s,f),v=0;v<5;++v)if(u<Y(s,c[v])){c[v]=f;break}}}s.closest=c}for(var m=0;m<k.length;++m)k[m].circle=new X(k[m],2+2*Math.random(),void 0)}else if("heart-beat"===E.type){var p={x:I/2,y:L/2,closest:[]},g=[q(p,"left"),q(p,"rightTop"),q(p,"rightBottom")];for(k=[p];0<g.length;){var y=g.pop();if(0<y.x&&y.x<I&&0<y.y&&y.y<L){for(var x=!1,w=.1*Math.pow(E.lineLen,2),b=0;b<k.length;++b){var M=k[b];if(Y(y,M)<w){x=!0;break}}if(!1===x){k.push(y);var T=y.type;switch(T){case"leftTop":case"leftBottom":g.unshift(q(y,"left")),g.unshift(q(y,"leftTop"===T?"rightTop":"rightBottom"));break;case"rightTop":case"rightBottom":g.unshift(q(y,"right")),g.unshift(q(y,"rightTop"===T?"leftTop":"leftBottom"));break;case"left":g.unshift(q(y,"leftBottom")),g.unshift(q(y,"leftTop"));break;default:g.unshift(q(y,"rightBottom")),g.unshift(q(y,"rightTop"))}}}}for(var B=0;B<k.length;++B)k[B].circle=new X(k[B],2)}}()}function s(){h.x=h.rx+document.body.scrollLeft+document.documentElement.scrollLeft,h.y=h.ry+document.body.scrollTop+document.documentElement.scrollTop}function l(t){t.pageX||t.pageY?(h.x=t.pageX,h.y=t.pageY):(t.clientX||t.clientY)&&(h.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,h.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),h.rx=t.clientX,h.ry=t.clientY}function u(){this.reqId&&n(this.reqId),c(),v()}function v(){if(p(r),"heart-beat"===E.type)setInterval(g,E.heartBeatCD);else if("random-move"===E.type){m();for(var t=0;t<k.length;++t)y(k[t])}}function m(){d.clearRect(0,0,I,L),a(),this.reqId=p(m)}function g(){m();var o=new X(function(){for(var t={x:-100,y:-100},e=w(),n=Y(e,t),i=0;i<k.length;++i){var r=k[i],o=Y(e,r);o<n&&(n=o,t=r)}return t}(),0),a=E.heartBeatRange/144,c=.8,s=w();f=[];var l=function(){if(o.radius<E.heartBeatRange){for(var t=o.radius*o.radius,e=0;e<k.length;++e){var n=k[e];if(Y(n,o.pos)<t)for(var i=0;i<n.closest.length;++i){var r=x(n,n.closest[i],o);void 0!==r&&(r.circle=new X(r,1.2,s),r.circle.active=c,c*=.999,f.push(r))}}setTimeout(l,2400/144),o.radius+=a}};e&&l()}function y(t){var a,c,s,l,f,d,h,u,v,m,e=Math.random();c=1e3*(1+e),s={x:(a=t).originX-50+100*e,y:t.originY-50+100*Math.random()},l=y,f=a.x,d=a.y,h=s.x-f,u=s.y-d,v=Date.now(),m=v,function t(){var e,n=Date.now(),i=n-v;if(20<i){var r=(n-m)/c;if(1<=r)return a.x=s.x,a.y=s.y,void l(a);var o=1-(e=1-r)*e;a.x=f+h*o,a.y=d+u*o,v=n}p(t)}()}function q(t,e){var n=60*Math.PI/180,i=E.lineLen*Math.sin(n),r=E.lineLen*Math.cos(n),o={closest:[]},a=-1;switch(e){case"right":a=1;case"left":o.x=t.x+E.lineLen*a,o.y=t.y;break;case"rightBottom":a=1;case"rightTop":o.x=t.x+r,o.y=t.y+i*a;break;case"leftBottom":a=1;default:o.x=t.x-r,o.y=t.y+i*a}return o.type=e,t.closest.push(o),o.closest.push(t),o}function x(t,e,n){var i=Y(t,n.pos),r=Y(e,n.pos),o=Math.sqrt(Math.max(i,r));if(Math.sqrt(Math.min(i,r))<n.radius&&o>n.radius){var a=(t.y-e.y)/(t.x-e.x),c=t.y-a*t.x,s=-n.pos.x,l=-n.pos.y,f=n.radius,d=a*(l+c),h=a*a+1,u=s*a,v=h*f*f-u*u+2*d*s-Math.pow(l+c,2),m=Math.sqrt(v)-d-s,p=-1*m/h,g=m/h,y=p<Math.max(t.x,e.x)&&p>Math.min(t.x,e.x)?p:g;return{x:y,y:a*y+c}}}function X(t,e,n){this.pos=t||null,this.radius=e||null,this.centerP=n,this.draw=function(){if(0!==this.active){d.beginPath(),d.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!1);var t=E.rgb(this.pos,this.centerP||this.pos);t=t.r+","+t.g+","+t.b,d.fillStyle="rgba("+t+","+this.active+")",d.fill()}}}function Y(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}function w(){var t;if(i.getClientRects().length){var e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView;t={top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}else t={top:0,left:0};return{x:h.x-t.left,y:h.y-t.top}}c(),v(),function(){"ontouchstart"in window||document.addEventListener("mousemove",l,{passive:!0});document.addEventListener("mouseenter",function(t){e=!0,l(t)},{passive:!0}),document.addEventListener("mouseleave",function(){e=!1},{passive:!0}),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",u,{passive:!0})}()}};