window.MagicCanvas={reqId:0,draw:function(t){var L,I,i,o,k,r,e=!0,f=[],g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.setImmediate||window.setTimeout.bind(window,16),n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearImmediate||window.clearTimeout,a=function(){},E=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({lineLen:30,heartBeatCD:3e3,heartBeatRange:300,rgb:{r:156,g:217,b:249},type:"heart-beat",zIndex:-99999},t);if("function"!=typeof E.rgb){var c=E.rgb;E.rgb=function(){return c}}var s="random-move"===E.type?function(){for(var t=b(),e=0;e<k.length;++e){var n=k[e],i=Math.abs(Y(t,n));n.circle.active=i<4e3?(n.active=.3,.6):i<2e4?(n.active=.1,.3):i<4e4?(n.active=.02,.1):n.active=0,w(n),n.circle.draw()}}:function(){for(var t=0,e=0;e<f.length;++e){var n=f[e];0<n.circle.active?(n.circle.active-=.012,n.circle.draw()):++t}0<f.length&&t===f.length&&(f=[])};function l(){i=document.getElementById("reactive-bg-canvas"),L=document.documentElement.clientWidth,I=document.documentElement.clientHeight,i.style.position="fixed",i.style.zIndex=E.zIndex,i.style.top="0px",i.style.left="0px",i.width=L,i.height=I,r={x:L/2,y:I/2,rx:L/2,ry:I/2},o=i.getContext("2d"),function(){if("random-move"===E.type){k=[];for(var t=L/20,e=I/20,n=0;n<L;n+=t)for(var i=0;i<I;i+=e){var o=n+Math.random()*t,r=i+Math.random()*e;k.push({x:o,originX:o,y:r,originY:r})}for(var a=0;a<k.length;++a){for(var c=[],s=k[a],l=0;l<k.length;++l){var f=k[l];if(s!==f){for(var h=!1,u=0;u<5;++u)if(void 0===c[u]){c[u]=f,h=!0;break}if(!1===h)for(var d=Y(s,f),v=0;v<5;++v)if(d<Y(s,c[v])){c[v]=f;break}}}s.closest=c}for(var m=0;m<k.length;++m)k[m].circle=new X(k[m],2+2*Math.random(),void 0)}else if("heart-beat"===E.type){var g={x:L/2,y:I/2,closest:[]},p=[q(g,"left"),q(g,"rightTop"),q(g,"rightBottom")];for(k=[g];0<p.length;){var y=p.pop();if(0<y.x&&y.x<L&&0<y.y&&y.y<I){for(var x=!1,w=.1*Math.pow(E.lineLen,2),b=0;b<k.length;++b){var M=k[b];if(Y(y,M)<w){x=!0;break}}if(!1===x){k.push(y);var T=y.type;switch(T){case"leftTop":case"leftBottom":p.unshift(q(y,"left")),p.unshift(q(y,"leftTop"===T?"rightTop":"rightBottom"));break;case"rightTop":case"rightBottom":p.unshift(q(y,"right")),p.unshift(q(y,"rightTop"===T?"leftTop":"leftBottom"));break;case"left":p.unshift(q(y,"leftBottom")),p.unshift(q(y,"leftTop"));break;default:p.unshift(q(y,"rightBottom")),p.unshift(q(y,"rightTop"))}}}}for(var B=0;B<k.length;++B)k[B].circle=new X(k[B],2)}}()}function h(){r.x=r.rx+document.body.scrollLeft+document.documentElement.scrollLeft,r.y=r.ry+document.body.scrollTop+document.documentElement.scrollTop}function u(t){t.pageX||t.pageY?(r.x=t.pageX,r.y=t.pageY):(t.clientX||t.clientY)&&(r.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),r.rx=t.clientX,r.ry=t.clientY}function d(){this.reqId&&n(this.reqId),l(),v()}function v(){if(g(a),"heart-beat"===E.type)setInterval(p,E.heartBeatCD);else if("random-move"===E.type){m();for(var t=0;t<k.length;++t)y(k[t])}}function m(){o.clearRect(0,0,L,I),s(),this.reqId=g(m)}function p(){m();var r=new X(function(){for(var t={x:-100,y:-100},e=b(),n=Y(e,t),i=0;i<k.length;++i){var o=k[i],r=Y(e,o);r<n&&(n=r,t=o)}return t}(),0),a=E.heartBeatRange/144,c=.8,s=b();f=[];var l=function(){if(r.radius<E.heartBeatRange){for(var t=r.radius*r.radius,e=0;e<k.length;++e){var n=k[e];if(Y(n,r.pos)<t)for(var i=0;i<n.closest.length;++i){var o=x(n,n.closest[i],r);void 0!==o&&(o.circle=new X(o,1.2,s),o.circle.active=c,c*=.999,f.push(o))}}setTimeout(l,2400/144),r.radius+=a}};e&&l()}function y(t){var a,c,s,l,f,h,u,d,v,m,e=Math.random();c=1e3*(1+e),s={x:(a=t).originX-50+100*e,y:t.originY-50+100*Math.random()},l=y,f=a.x,h=a.y,u=s.x-f,d=s.y-h,v=Date.now(),m=v,function t(){var e,n=Date.now(),i=n-v;if(20<i){var o=(n-m)/c;if(1<=o)return a.x=s.x,a.y=s.y,void l(a);var r=1-(e=1-o)*e;a.x=f+u*r,a.y=h+d*r,v=n}g(t)}()}function q(t,e){var n=60*Math.PI/180,i=E.lineLen*Math.sin(n),o=E.lineLen*Math.cos(n),r={closest:[]},a=-1;switch(e){case"right":a=1;case"left":r.x=t.x+E.lineLen*a,r.y=t.y;break;case"rightBottom":a=1;case"rightTop":r.x=t.x+o,r.y=t.y+i*a;break;case"leftBottom":a=1;default:r.x=t.x-o,r.y=t.y+i*a}return r.type=e,t.closest.push(r),r.closest.push(t),r}function x(t,e,n){var i=Y(t,n.pos),o=Y(e,n.pos),r=Math.sqrt(Math.max(i,o));if(Math.sqrt(Math.min(i,o))<n.radius&&r>n.radius){var a=(t.y-e.y)/(t.x-e.x),c=t.y-a*t.x,s=-n.pos.x,l=-n.pos.y,f=n.radius,h=a*(l+c),u=a*a+1,d=s*a,v=u*f*f-d*d+2*h*s-Math.pow(l+c,2),m=Math.sqrt(v)-h-s,g=-1*m/u,p=m/u,y=g<Math.max(t.x,e.x)&&g>Math.min(t.x,e.x)?g:p;return{x:y,y:a*y+c}}}function X(t,e,n){this.pos=t||null,this.radius=e||null,this.centerP=n,this.draw=function(){if(this.active){o.beginPath(),o.arc(this.pos.x,this.pos.y,this.radius,0,2*Math.PI,!1);var t=E.rgb(this.pos,this.centerP||this.pos);t=t.r+","+t.g+","+t.b,o.fillStyle="rgba("+t+","+this.active+")",o.fill()}}}function w(t){if(t.active)for(var e=0;e<t.closest.length;++e){o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(t.closest[e].x,t.closest[e].y);var n=E.rgb(r);n=n.r+","+n.g+","+n.b,o.strokeStyle="rgba("+n+","+t.active+")",o.stroke()}}function Y(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}function b(){var t;if(i.getClientRects().length){var e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView;t={top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}else t={top:0,left:0};return{x:r.x-t.left,y:r.y-t.top}}l(),v(),function(){"ontouchstart"in window||document.addEventListener("mousemove",u,{passive:!0});document.addEventListener("mouseenter",function(t){e=!0,u(t)},{passive:!0}),document.addEventListener("mouseleave",function(){e=!1},{passive:!0}),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",d,{passive:!0})}()}};